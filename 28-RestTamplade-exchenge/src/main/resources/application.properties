#########################################################
#                  CONFIGURACAO DA APLICACAO            #
#########################################################

# Nome da aplicacao Spring Boot (aparece nos logs e em alguns recursos do Spring)
spring.application.name=07-star-Spring-io

# Controla a exibicao do stack trace em erros HTTP
# ON_PARAM -> mostra stack trace somente se voce adicionar "?trace" na URL
# NEVER    -> nunca mostra stack trace (mais seguro para producao)
server.error.include-stacktrace=ON_PARAM


#########################################################
#                CONFIGURACAO DO BANCO DE DADOS         #
#########################################################

# URL de conexao JDBC com MySQL
# jdbc:mysql://localhost:3306/anime -> conecta ao banco "anime" no MySQL local
# useSSL=false -> desativa SSL (util para desenvolvimento local)
# allowPublicKeyRetrieval=true -> permite recuperar chave publica do MySQL 
# createDatabaseIfNotExist=true -> cria o banco caso ele nao exista
# serverTimezone=UTC -> define fuso horario UTC para evitar erros com datas
spring.datasource.url=jdbc:mysql://localhost:3306/anime?useSSL=false&allowPublicKeyRetrieval=true&createDatabaseIfNotExist=true&serverTimezone=UTC

# Usuario e senha para conexao com o MySQL
spring.datasource.username=root
spring.datasource.password=icaro

# Classe do driver JDBC do MySQL
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver


#########################################################
#              CONFIGURACAO DO JPA / HIBERNATE          #
#########################################################

# Define como o Hibernate deve tratar o esquema do banco
# update -> atualiza esquema baseado nas entidades (mantem dados)
# create -> cria esquema do zero (apaga dados existentes)
# validate -> valida se tabelas batem com entidades
# none -> nao faz acao automatica
spring.jpa.hibernate.ddl-auto=update

# Dialeto do Hibernate para gerar SQL compativel com MySQL 8
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

# Mostra queries SQL geradas pelo Hibernate no console
# Util para desenvolvimento, desativar em producao
spring.jpa.show-sql=true

# Configuracao de logging para SQL
# DEBUG: mostra as queries SQL executadas
# TRACE: mostra os parametros das queries (valores bindados)
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Para salvar logs em arquivo (opcional):
# logging.file.name=logs/sql-queries.log

#########################################################
#                  EXPLICACAO DETALHADA                 #
#########################################################

# 1. NOME DA APLICACAO:
# - Usado no Spring Boot Actuator endpoints
# - Aparece em logs: "Started 07-star-Spring-io in X seconds"
# - Identificador para metricas e monitoramento

# 2. CONFIGURACAO DE ERROS:
# - ON_PARAM: Mais seguro, stack trace so com ?trace na URL
# - Util para debug sem expor informacoes sensiveis

# 3. BANCO DE DADOS MYSQL:
# - URL format: jdbc:mysql://[host]:[port]/[database]?[params]
# - Parametros importantes:
#   useSSL=false: Dev only (producao deve usar SSL)
#   createDatabaseIfNotExist: Conveniente para desenvolvimento
#   serverTimezone=UTC: Evita problemas com fusos horarios

# 4. CONFIGURACAO JPA/HIBERNATE:
# - ddl-auto=update: Atualiza schema sem apagar dados
# - show-sql=true: Debug no console (false em producao)
# - MySQL8Dialect: Otimiza SQL para MySQL 8+

# 5. LOGGING DE SQL:
# - DEBUG level: Mostra as queries executadas
# - TRACE level: Mostra valores dos parametros
# - IMPORTANTE: Desativar em producao por performance/seguranca

# 6. CONFIGURACOES DE PRODUCAO RECOMENDADAS:
# spring.jpa.show-sql=false
# server.error.include-stacktrace=NEVER
# useSSL=true (com certificado valido)
# logging.level.org.hibernate.SQL=WARN
# logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# 7. SEGURANCA:
# - Nunca commitar senhas no Git
# - Usar variaveis de ambiente em producao:
#   spring.datasource.password=${DB_PASSWORD}
# - Configurar connection pool (HikariCP default do Spring Boot)

# 8. MONITORAMENTO:
# - Habilitar Spring Boot Actuator para health checks
# - Configurar metricas com Micrometer
# - Usar Spring Boot Admin para dashboard

# ARQUIVOS DE CONFIGURACAO ALTERNATIVOS:
# - application-dev.properties (desenvolvimento)
# - application-prod.properties (producao)
# - application-test.properties (testes)
# Ativar com: --spring.profiles.active=prod